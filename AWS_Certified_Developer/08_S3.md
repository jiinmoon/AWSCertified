# Simple Storage Service (S3)

- S3 provides devs with secure, druable, highly-scalable object storage.
- S3 is easy to use, with a simple web services interface to store and retrieve
    any amount of data from anywhere onthe web.

- Key here is that it is for object storage; pictures, media, audios... This is
    not for boot volumes nor databases.

- The data is spread across multiple devices and facilities.

## S3 is...

- Object based; mainly for uploading files.
- Files can be from 0 bytes to 5 TB.
- Unlimited storage.
- Files are stored in Buckets (like folder).
- S3 has a universal namespace; meaning that names must be unique globally (like
    hostname).
    - i.e. https://s3-na-west-1.amazonaws.com/YOURBUCCKETNAME

- When file is uploaded to S3 successfully, you will receieve HTTP 200 code.

## Data Consistency Model For S3

- **Read after Write Consistency** for PUTS of new Objects.
    - Uploaded file is available as soon as it finishes uploading.
- **Eventual Consistency** for overwrite PUTS and DELETES.
    - Updating a file takes some time to propagate.
 
## S3 is a simple key-value store!

- S3 is object based where objects consists of the following:
    - Key (name of object).
    - Value (the data; sequence of bytes).
    - Version ID (important for versioning).
    - Metadata (data about data stored).
    - Subresource - bucket-specific configuration:
        - Bucket Policies, Access Control Lists... 
        - Cross Origin Resource Sharing (CORS).
        - Transfer Acceleration (service that speeds up uploading).

## S3 is...

- built in mind for 99.99% availability for the S3 platform.
- Amazon actually gurantees 99.9% availability.
- Amazon also gurantees 99.999999999% durability for S3 information (11 x 9 s).
    - durability : amount of data expected to be lost.
    - while this is really good, always make backups/versioning/so on.
- Tiered Storage Available.
- Lifecycle Management.
- Versioning.
- Encryption.
- Secure Access points to your data via Access Control Lists/Bucket Policies.

## S3 Storage Tiers/Classes

- S3
    - 99.99% availability, 99.999999999% durability, stored redundantly across
        multiple devices in multiple facilities, and is designed to sustain the
        loss of 2 facilities concurrently.

- S3 - IA (Infrequently Accessed)
    - For data that is accessed less frequently, but requires rapid access when
        needed. Lower fee than S3, but charged a retrieval fee.

- S3 - One Zone IA
    - Same as IA, but data is stored ina single AZ only; still 99.999999999%
        durability, but only 99.5% availability. Cost is 20% less than regular
        IA.

- Reduced Redundancy Storage
    - 99.99% durability and 99.99% availiability of objects over a given year.
    - Used for data that can be easily reprocuded if lost (i.e. thumbnails).

- Glacier
    - Very cheap; archival purposes only.
    - It can take hours 3 - 5 to retrieve from Glacier.

## S3 Intelligent Tiering?

- additional class; used for unknown or unpredictable access patterns.
- 2 tiers : frequent and infrequent access.
- automatically moves your data to most cost-effective tier based on how
    frequently you acccess each object.
- has same availiabilty and durability as the S3; 99.999999999% dur/99.9 avail.
- optimizes cost.
- no fees for accessing your data but a small monthly fee for
    monitoring/automation $0.0025 per 1000 objects.

## What do you get charged for with S3?

- Storage per GB
- Requests (Get, Put, Copy...)
- Storage Management Pricing
    - Inventory, Analytics, and Object Tags
- Data management Pricing
    - Data transferred out of S3 (download from S3)
- Transfer Acceleration
    - use CloudFront to optimize transfers

---

# Exam Tips

- S3 is **object based**; should not be used to run OS or databases.
- Files can be 0 to 5 TB.
- Unlimited Storage.
- uploaded files are stored in Buckets.
- S3 has universal namesapce -- names should be unique globally.

- Two Consistency Models:
    - read after write for new PUTS.
    - eventual consistency for overwrite PUTS and DELETE.
        - takes time to propagate.

- Storage Classes:
    - S3 (standard)
        - durable, immediately available, frequently accessed.
    - S3 - IA
        - infreqeuntly accessed.
    - S3 - One Zone IA
        - data is stored in only single availability zone.
    - S3 - Reduced Redundancy Storage
        - for easily reproducible data.
    - Glacier 
        - archived data.

- S3 Objects have:
    - Key (object name)
    - Value (data storing)
    - Version ID
    - Metadata
    - Subresources - bucket-specific configuration:
        - Bucket Policies, Access Control Lists
        - Cross Origin Resource Sharing (CORS)
        - Transfer Acceleration

- Successful upload generate 200 HTTP status code when using CLI or API.

- read up on the aws.amazon.com/s3/faqs

---

